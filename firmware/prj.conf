#
# KitchenAid Zigbee Kettle Controller Configuration
# Target: Custom nRF54L15 hardware (similar to DK)
#

# Pull in nRF Connect SDK defaults
CONFIG_NCS_SAMPLES_DEFAULTS=y

# Serial / Console
CONFIG_SERIAL=y
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y
CONFIG_UART_INTERRUPT_DRIVEN=y

# Logging
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_LOG_BACKEND_UART=y

# GPIO for button, LED, and kettle state input
CONFIG_GPIO=y
CONFIG_GPIO_NRFX_INTERRUPT=y
CONFIG_NRFX_GPIOTE20=y
CONFIG_NRFX_GPIOTE30=y

# ADC for temperature sensing
CONFIG_ADC=y

# Memory
CONFIG_HEAP_MEM_POOL_SIZE=4096
CONFIG_MAIN_THREAD_PRIORITY=7
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# Zigbee - using ncs-zigbee R23 add-on
# ROUTER role - always on, forwards messages
CONFIG_ZIGBEE_ADD_ON=y
CONFIG_ZIGBEE_APP_UTILS=y
CONFIG_ZIGBEE_ROLE_ROUTER=y
CONFIG_ZIGBEE_CHANNEL_SELECTION_MODE_MULTI=y

# Zigbee stack memory - increase buffer pool for router reliability
# Routers need more buffers for message forwarding + own traffic
# Default is 26 buffers; increase for router with frequent reporting
CONFIG_ZBOSS_DEFAULT_THREAD_STACK_SIZE=4096

# ZBOSS trace logging (warning level to reduce overhead)
CONFIG_ZBOSS_TRACE_LOG_LEVEL_WRN=y

# Crypto for Zigbee security
CONFIG_CRYPTO=y
CONFIG_CRYPTO_INIT_PRIORITY=80

# Flash / NVS for persistent storage
CONFIG_FLASH=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_FLASH_MAP=y
CONFIG_NVS=y
CONFIG_SETTINGS=y
CONFIG_SETTINGS_NVS=y

# Networking (disable unused)
CONFIG_NET_IPV6=n
CONFIG_NET_IP_ADDR_CHECK=n
CONFIG_NET_UDP=n

# Math library for NTC temperature calculations
CONFIG_NEWLIB_LIBC=y
CONFIG_NEWLIB_LIBC_FLOAT_PRINTF=y
